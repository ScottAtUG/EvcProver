using Microsoft.VisualStudio.TestTools.UnitTesting;
using Prover.Core.Communication;
using Prover.Core.Models.Verification;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Prover.Core.Models.Verification.Tests
{
    [TestClass()]
    public class InstrumentTests
    {
        [TestMethod()]
        public void InstrumentTest()
        {
            var items = new InstrumentItems(InstrumentType.MiniMax);
            var cp = Communications.CreateCommPortObject("COM4", SerialProtocol.BaudRateEnum.b9600);
            var comm = new InstrumentCommunicator(cp, InstrumentType.MiniMax);

            comm.DownloadItemsAsync(items).Wait();

            var instrument = new Instrument(InstrumentType.MiniMax, items);
            Assert.IsNotNull(instrument);
        }
    }
}